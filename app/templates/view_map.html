{%extends 'base.html'%}
{%block title%}Viewing Map{%endblock%}
{%block head%}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
{%endblock%}
{%block body%}
<template id="dg-template">
    <div class="dl-item">
        <div class="drop-group"><img class="flag-small drop-group-image"><span class="drop-group-name"></span></div>
        <div class="drop-count-outer"><span class="drop-count"></span>&nbsp;drops</div>
    </div>
</template>
<template id="drop-template">
    <div class="dl-item">
        <div class="drop"><img class="flag-small drop-image"><span class="drop-name"></span></div>
    </div>
</template>
<div id="site" class="nopad">
    <div class="panel-container">
        <div class="panel select-panel sp-drops">
            <div class="panel-title">
                <h1 id="map-title"></h1>
            </div>
            <div id="group-search" class="maps-search"> <input type="text" class="maps-search-input" placeholder="Search by group name"></input></div>
            <div class="filter drops-only maps-search" id="drop-filter">
                <select id="drop-filter-select">
                    <option name="all" value="All drops">All drops</option>
                    <option name="selected" value="Selected">Selected</option>
                </select>
            </div>
            <div class="panel-content" id="drop-list">
            </div>
            <div class="paginator drops-only" id="drop-paginator">
                Showing page&nbsp;<input type="number" id="dp-input" value="1" min="1"></input>&nbsp;of&nbsp;<span id="dp-total"></span>
            </div>
        </div>
        <div id="mapview" class="panel">
            <canvas id="overlay"></canvas>
            <div id="mapview-map">
            </div>
            <div id="mapview-ui">
                <input type="checkbox" id="show-coverage" checked></input>
                <input type="color" id="marker-color" value="#ff0000"></input>
                <button class="button" id="reset-map">Reset Map</button>
                <button class="button" id="export-selected">Export selected</button>
            </div>
        </div>
    </div>
</div>
{%endblock%}
{%block scripts%}
<script src="/static/js/core/core.min.js"></script>
<script src="/static/js/coreLoader.js"></script>
<script src="/static/js/proxy.js"></script>
<script src="/static/js/viewMap.js"></script>
{%endblock%}
