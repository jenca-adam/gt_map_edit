{%extends 'base.html'%}
{%block title%}Viewing Map{%endblock%}
{%block head%}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
{%endblock%}
{%block bannerl%}
<button id="back-to-map" class="button drops-only">Back to map</button>
{%endblock%}
{%block body%}
<template id="dg-template">
    <div class="dl-item">
        <div class="drop-group"><img class="flag-small drop-group-image"><span class="drop-group-name"></span></div>
        <div class="drop-count-outer"><span class="drop-count"></span>&nbsp;drops</div>
    </div>
</template>
<template id="drop-template">
    <div class="dl-item">
        <div class="drop"><img class="flag-small drop-image"><span class="drop-name"></span><span class="drop-desc"></span></div>
    </div>
</template>
<div id="site" class="nopad">
    <div class="panel-container">
        <div class="panel select-panel sp-drops">
            <div class="panel-title">
                <h1 id="map-title"></h1>
            </div>
            <div id="group-search" class="maps-search"> <input type="text" class="maps-search-input" placeholder="Search by group name"></input></div>
            <div class="filter drops-only maps-search" id="drop-filter">
                <select id="drop-filter-select">
                    <option name="all" value="All drops">All drops</option>
                    <option name="selected" value="Selected">Selected</option>
                </select>
            </div>
            <div class="panel-content" id="drop-list">
            </div>
            <div class="paginator drops-only" id="drop-paginator">
                <div>
                    Showing page&nbsp;<input type="number" id="dp-input" value="1" min="1"></input>&nbsp;of&nbsp;<span id="dp-total"></span></div><div id="dp-arrows"><button class="dp-arrow" id="dp-minus">&lt;</button><button class="dp-arrow" id="dp-plus">&gt;</button></div>
            </div>
        </div>
        <div id="mapview" class="panel">
            <canvas id="overlay"></canvas>
            <div id="mapview-map">
            </div>
            <div id="mapview-ui">
                <div class="left">
                <button class="button"  id="map-settings-button">Map settings</button>
                </div>
                <div class="right">
                <button class="button" id="reset-map">Reset Map</button>
                <button class="button" id="select-all">Select all</button>
                <button class="button" id="export-selected">Export selected</button>
                </div>
            </div>
            <div class="darkbox-container" id="map-settings">
                <div id="map-settings-inner" class="darkbox">
                    <h1 class="darkbox-title">Map Settings</h1>
                    <p class="formset"><input type="checkbox" id="show-coverage" checked></input><label for="show-coverage" class="label">Show coverage</label></p>
                    <p class="formset"><input type="range" id="coverage-opacity" value="1" min="0" max="1" step="0.01"></input><label for="coverage-opacity" class="label">Coverage opacity</label></p>
                    <p class="formset"><input type="color" id="marker-color" value="#ff0000"></input><label for="marker-color" class="label">Marker color</label></p>
                    <p class="formset"><input type="range" min="5" max="30" step="0.1" id="marker-size" value="10"></input><label for="marker-size" class="label" >Marker size</p>
                    <div class="center"><button id="map-settings-hide" class="button">Close</button><button id="map-settings-reset" class="button">Reset</button></div>
                </div>
            </div>
        </div>
        
    </div>
</div>

{%endblock%}
{%block scripts%}
<script src="/static/js/core/core.min.js"></script>
<script src="/static/js/coreLoader.js"></script>
<script src="/static/js/proxy.js"></script>
<script src="/static/js/viewMap.js"></script>
{%endblock%}
